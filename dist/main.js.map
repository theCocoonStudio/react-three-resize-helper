{"mappings":"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","sources":["src/index.js","src/components/ResizeHelper.js"],"sourcesContent":["import { useResizeHelper } from \"./components/ResizeHelper\";\nexports.useResizeHelper = useResizeHelper;\n","import { useEffect, useState } from \"react\";\nimport { Box3, MathUtils } from \"three\";\n\nconst handleResize = (ref, options, camera) => {\n  const _ref = ref;\n  const _options = options;\n  const _camera = camera;\n  //calculate returned objected\n  const _size = new Box3().setFromObject(_ref.current);\n  const _vFOV = MathUtils.degToRad(_camera.fov);\n  const _height =\n    2 *\n    Math.tan(_vFOV / 2) *\n    Math.abs(_ref.current.position.z - _camera.position.z); // visible height\n  const _width = _height * _camera.aspect;\n  const _returned = {\n    objMin: _size.min,\n    objMax: _size.max,\n    visWidth: _width,\n    visHeight: _height,\n    aspect: _camera.aspect,\n  };\n  // end calculation\n\n  const _aspect = _camera.aspect;\n  if (_options) {\n    let {\n      breakpoints,\n      positions,\n      rotations,\n      scales,\n      fovs,\n      camZs,\n      useMin,\n      setFunc,\n    } = _options;\n\n    //basic validation\n    if (!Array.isArray(breakpoints)) {\n      throw new TypeError(\n        \"Options requires a breakpoints key referencing a breakpoint array. \",\n        \"ResizeHelper.js\",\n        11,\n      );\n    }\n    if (positions && !Array.isArray(positions)) {\n      throw new TypeError(\n        \"Optional positions key must reference an array.\",\n        \"ResizeHelper.js\",\n        18,\n      );\n    }\n    if (rotations && !Array.isArray(rotations)) {\n      throw new TypeError(\n        \"Optional rotations key must reference an array.\",\n        \"ResizeHelper.js\",\n        25,\n      );\n    }\n    if (scales && !Array.isArray(scales)) {\n      throw new TypeError(\n        \"Optional scales key must reference an array.\",\n        \"ResizeHelper.js\",\n        32,\n      );\n    }\n    if (fovs && !Array.isArray(fovs)) {\n      throw new TypeError(\n        \"Optional fovs key must reference an array.\",\n        \"ResizeHelper.js\",\n        39,\n      );\n    }\n    if (camZs && !Array.isArray(camZs)) {\n      throw new TypeError(\n        \"Optional camZs key must reference an array.\",\n        \"ResizeHelper.js\",\n        46,\n      );\n    }\n    // end validation\n    /*insert current _aspect in the sorted breakpoint array and sort*/\n    breakpoints.push(_aspect);\n    breakpoints.sort();\n    const index = breakpoints.indexOf(_aspect);\n\n    /* find the array index for the changes to implement. Enforce correct breakpoints if aspect exactly matches a breakpoint */\n    let actionIndex = index;\n    /*if usemin, if index is not last, check if entry is not equal to the next entry; if it is you have to use index + 1*/\n    if (useMin && index != breakpoints.length - 1) {\n      actionIndex =\n        breakpoints[index] === breakpoints[index + 1] ? index + 1 : index;\n    }\n\n    /* apply the changes */\n\n    if (positions && positions[actionIndex]) {\n      if (typeof positions[actionIndex] === \"function\") {\n        const pos = positions[actionIndex](_returned, _options.functionScope);\n        _ref.current.position.x = pos[0];\n        _ref.current.position.y = pos[1];\n        _ref.current.position.z = pos[2];\n      } else {\n        if (\n          typeof positions[actionIndex][0] != \"undefined\" &&\n          positions[actionIndex][0] != null\n        ) {\n          _ref.current.position.x = positions[actionIndex][0];\n        }\n        if (\n          typeof positions[actionIndex][1] != \"undefined\" &&\n          positions[actionIndex][1] != null\n        ) {\n          _ref.current.position.y = positions[actionIndex][1];\n        }\n        if (\n          typeof positions[actionIndex][2] != \"undefined\" &&\n          positions[actionIndex][2] != null\n        ) {\n          _ref.current.position.z = positions[actionIndex][2];\n        }\n      }\n    }\n\n    if (rotations && rotations[actionIndex]) {\n      if (typeof rotations[actionIndex] === \"function\") {\n        const rot = rotations[actionIndex](_returned, _options.functionScope);\n        _ref.current.rotation.x = rot[0];\n        _ref.current.rotation.y = rot[1];\n        _ref.current.rotation.z = rot[2];\n      } else {\n        if (\n          typeof rotations[actionIndex][0] != \"undefined\" &&\n          rotations[actionIndex][0] != null\n        ) {\n          _ref.current.rotation.x = rotations[actionIndex][0];\n        }\n        if (\n          typeof rotations[actionIndex][1] != \"undefined\" &&\n          rotations[actionIndex][1] != null\n        ) {\n          _ref.current.rotation.y = rotations[actionIndex][1];\n        }\n        if (\n          typeof rotations[actionIndex][2] != \"undefined\" &&\n          rotations[actionIndex][2] != null\n        ) {\n          _ref.current.rotation.z = rotations[actionIndex][2];\n        }\n      }\n    }\n\n    if (scales && scales[actionIndex]) {\n      if (typeof scales[actionIndex] === \"function\") {\n        const sca = scales[actionIndex](_returned, _options.functionScope);\n        _ref.current.scale.x = sca[0];\n        _ref.current.scale.y = sca[1];\n        _ref.current.scale.z = sca[2];\n      } else {\n        if (\n          typeof scales[actionIndex][0] != \"undefined\" &&\n          scales[actionIndex][0] != null\n        ) {\n          _ref.current.scale.x = scales[actionIndex][0];\n        }\n        if (\n          typeof scales[actionIndex][1] != \"undefined\" &&\n          scales[actionIndex][1] != null\n        ) {\n          _ref.current.scale.y = scales[actionIndex][1];\n        }\n        if (\n          typeof scales[actionIndex][2] != \"undefined\" &&\n          scales[actionIndex][2] != null\n        ) {\n          _ref.current.scale.z = scales[actionIndex][2];\n        }\n      }\n    }\n    if (fovs && fovs[actionIndex]) {\n      _camera.fov =\n        typeof fovs[actionIndex] === \"function\"\n          ? fovs[actionIndex](_returned, _options.functionScope)\n          : fovs[actionIndex];\n      _camera.updateProjectionMatrix();\n    }\n    if (camZs && camZs[actionIndex]) {\n      _camera.position.z =\n        typeof camZs[actionIndex] === \"function\"\n          ? camZs[actionIndex](_returned, _options.functionScope)\n          : camZs[actionIndex];\n      _camera.updateProjectionMatrix();\n    }\n\n    if (setFunc && setFunc[actionIndex]) {\n      setFunc[actionIndex](_returned, _options.functionScope);\n    }\n  }\n  return _returned;\n};\n\nexport const useResizeHelper = (ref, camera, options) => {\n  let [dimensions, setDimensions] = useState(null);\n\n  useEffect(() => {\n    setDimensions(handleResize(ref, options, camera));\n  }, [camera.aspect, ref, camera, ref.current]);\n\n  return dimensions;\n};\n"],"names":[],"version":3,"file":"main.js.map"}